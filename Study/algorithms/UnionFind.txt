ğŸ“Œ Union-Find (Disjoint Set Union, DSU) â€” ìš”ì•½ ì •ë¦¬

[1] ìœ ë‹ˆì˜¨íŒŒì¸ë“œëŠ”?
- ì„œë¡œì†Œ ì§‘í•©(Disjoint Set)ì„ ê´€ë¦¬í•˜ëŠ” ìë£Œêµ¬ì¡°
- ëŒ€í‘œ ê¸°ëŠ¥: ë‘ ì›ì†Œê°€ ê°™ì€ ê·¸ë£¹ì¸ì§€ í™•ì¸(find), ë‘ ê·¸ë£¹ í•©ì¹˜ê¸°(union)
- í™œìš©: ì‚¬ì´í´ íŒë³„, ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬(Kruskal), ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ

[2] í•µì‹¬ ê°œë…
- parent[x]: xì˜ ë¶€ëª¨(ë£¨íŠ¸ë©´ parent[x] = x)
- find(x): xì˜ ë£¨íŠ¸(ëŒ€í‘œì) ì°¾ê¸°
- union(a,b): ë‘ ì§‘í•© í•©ì¹˜ê¸°
- ê²½ë¡œ ì••ì¶•(Path Compression) + ë­í¬ ê¸°ë°˜ í•©ì¹˜ê¸°(Union by Rank)ë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©

[3] DSU ì´ˆê¸°í™”
parent = [i for i in range(n+1)]
rank = [0] * (n+1)

[4] find (ê²½ë¡œ ì••ì¶•)
def find(x):
    if parent[x] != x:
        parent[x] = find(parent[x])
    return parent[x]

[5] union (ë­í¬ ê¸°ë°˜)
def union(a, b):
    a = find(a)
    b = find(b)
    if a != b:
        if rank[a] < rank[b]:
            parent[a] = b
        else:
            parent[b] = a
            if rank[a] == rank[b]:
                rank[a] += 1

[6] ë‘ ì›ì†Œê°€ ê°™ì€ ì§‘í•©ì¸ì§€ í™•ì¸
if find(a) == find(b):
    # ê°™ì€ ê·¸ë£¹
else:
    # ë‹¤ë¥¸ ê·¸ë£¹

[7] ëŒ€í‘œ í™œìš© ì˜ˆì‹œ
(1) ì‚¬ì´í´ íŒë³„
for a, b in edges:
    if find(a) == find(b):
        print("cycle")
    else:
        union(a, b)

(2) Kruskal MST
edges.sort(key=lambda x: x[2])
total = 0
for a, b, w in edges:
    if find(a) != find(b):
        union(a, b)
        total += w
print(total)

